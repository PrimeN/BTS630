<div class="container fluid">
  <div class="card">
    <div class="card-header">
      <app-secondary-navbar></app-secondary-navbar>
    </div>
    <div class="card-body">
      <h3>Profile Update</h3>
      <hr />
      <form (ngSubmit)="updateUser()" #form="ngForm">
        <div class="row">
          <div class="col-md-12">
            <div class="form-group">
              <label>Email address</label>
              <input type="email" disabled="" class="form-control" placeholder="Email" [(ngModel)]="use.Email"
                name="Email">
            </div>
          </div>
        </div>

        <!-- First & Last Name-->
        <div class="row">
          <div class="col-md-6 pr-1">
            <div class="form-group">
              <label>First Name</label>
              <input type="text" class="form-control" placeholder="First Name" [(ngModel)]="use.FirstName"
                name="FirstName">
            </div>
          </div>
          <div class="col-md-6 pl-1">
            <div class="form-group">
              <label>Last Name</label>
              <input type="text" class="form-control" placeholder="Last Name" [(ngModel)]="use.LastName"
                name="LastName">
            </div>
          </div>
        </div>

        <!-- Address -->
        <div class="row">
          <div class="col-md-4 pr-1">
            <div class="form-group">
              <label>Address</label>
              <input type="text" class="form-control" placeholder="Home Address" [(ngModel)]="use.AddressStreet"
                name="AddressStreet">
            </div>
          </div>
          <div class="col-md-4 px-1">
            <div class="form-group">
              <label>City</label>
              <input type="text" class="form-control" placeholder="City" [(ngModel)]="use.AddressCity"
                name="AddressCity">
            </div>
          </div>
          <div class="col-md-4 pl-1">
            <div class="form-group">
              <label>City</label>
              <input type="text" class="form-control" placeholder="Province" [(ngModel)]="use.AddressProvince"
                name="AddressProvince">
            </div>
          </div>
        </div>

        <!-- Postal Code -->
        <div class="row">
          <div class="col-md-6 pr-1">
            <div class="form-group">
              <label>Postal Code</label>
              <input type="text" class="form-control" placeholder="Zip Code" [(ngModel)]="use.AddressZip"
                name="AddressZip">
            </div>
          </div>
          <div class="col-md-6 pl-1">
            <div class="form-group">
              <label>Country</label>
              <input type="text" disabled="" class="form-control" placeholder="Country" value="Canada" name="Country">
            </div>
          </div>
        </div>

        <!-- Phone Num & Extension -->
        <div class="row">
          <div class="col-md-6 pr-1">
            <div class="form-group">
              <label>Phone Number</label>
              <input type="tel" class="form-control" placeholder="000-000-0000" [(ngModel)]="use.PhoneNum"
                name="PhoneNum">
            </div>
          </div>
          <div class="col-md-6 pl-1">
            <div class="form-group">
              <label>Extension</label>
              <input type="tel" class="form-control" placeholder="0" [(ngModel)]="use.Extension" name="Extension">
            </div>
          </div>
        </div>


        <div class="row">
          <div class="col-md-12">
            <button class="btn btn-success text-uppercase float-right" [disabled]='!form.form.valid'
              type="submit">Update</button>
          </div>
        </div>
      </form>

      <hr />
      <h3>Update Password</h3>
      <form (ngSubmit)="updatePassword()" #pform="ngForm">

        <!-- New password -->
        <div class="form-group row">
          <label class="col-sm-2 col-form-label" for="password">New Password</label>
          <div class="col">
            <input type="password" class="form-control" name="password" [(ngModel)]="newPassword" minlength="8"
              maxlength="16" required>
          </div>
        </div>

        <!-- Retype password -->
        <div class="form-group row">
          <label class="col-sm-2 col-form-label" for="passwordConfirmation">Re-enter your password</label>
          <div class="col">
            <input type="password" class="form-control" name="passwordConfirmation" [(ngModel)]="reenteredPassword"
              minlength="8" maxlength="16" required>
          </div>
        </div>


        <div class="row">
          <div class="col">
            <button class="btn btn-success text-uppercase float-right" [disabled]='!pform.form.valid'
              type="submit">Update</button>
          </div>
        </div>
      </form>

      <div *ngIf="success != null && success" class="alert alert-success mt-3">
        Your password has successfully changed!
      </div>

      <div *ngIf="success != null && !(success)" class="alert alert-danger mt-3">
        There was an error changing your password, please contact an administrator.
      </div>



    </div>
  </div>
</div>